{
   "mdl": "Radiator",
   "mdlpn": "MIHO013",
   "parameters": [
      {
         "id": "Climate_Control",
         "component": "climate",
         "main": true,
         "config": {
            "curr_temp_t": "~TEMPERATURE/state",
            "max_temp": 40,
            "min_temp": 5,
            "modes": [
               "off",
               "heat"
            ],
            "mode_cmd_t": "~VALVE_STATE/command",
            "mode_stat_t": "~VALVE_STATE/state",
            "mode_cmd_tpl": "{% if value == 'off' %} 1 {% else %} 2 {% endif %}",
            "mode_stat_tpl": "{% if value == '1' %} off {% else %} heat {% endif %}",
            "temp_cmd_t": "~TARGET_TEMP/command",
            "temp_stat_t": "~TARGET_TEMP/state",
            "ic": "mdi:radiator",
            "temp_step": "0.5",
            "temp_unit": "C"
         }
      },
      {
         "id": "HEAT_DEMANDED",
         "component": "binary_sensor",
         "stat_t": "~HVAC_ACTION/state",
         "config": {
            "dev_cla": "running",
            "val_tpl": "{% if value == 'heating' %} ON {% else %} OFF {% endif %}",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "HEAT_DEMAND",
         "component": "sensor",
         "stat_t": "~HVAC_ACTION/state",
         "config": {
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "TEMPERATURE_DELTA",
         "component": "sensor",
         "stat_t": "~DELTA_TEMP/state",
         "config": {
            "ic": "mdi:thermometer-lines",
            "dev_cla": "temperature",
            "stat_cla": "measurement",
            "unit_of_meas": "°C",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "ROOM_TEMPERATURE",
         "component": "sensor",
         "stat_t": "~TEMPERATURE/state",
         "config": {
            "ic": "mdi:thermometer",
            "dev_cla": "temperature",
            "stat_cla": "measurement",
            "unit_of_meas": "°C",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "TEMPERATURE_SET_POINT",
         "component": "sensor",
         "stat_t": "~TARGET_TEMP/state",
         "config": {
            "ic": "mdi:thermostat",
            "dev_cla": "temperature",
            "stat_cla": "measurement",
            "unit_of_meas": "°C",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "VOLTAGE",
         "component": "sensor",
         "stat_t": "~@/state",
         "config": {
            "ic": "mdi:battery",
            "dev_cla": "voltage",
            "stat_cla": "measurement",
            "unit_of_meas": "V",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "Battery_Updated",
         "component": "sensor",
         "stat_t": "~VOLTAGE_TS/state",
         "config": {
            "ic": "mdi:battery-clock",
            "val_tpl": "{{ as_datetime(value) }}",
            "dev_cla": "timestamp",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "Diagnostics_Ran",
         "component": "sensor",
         "stat_t": "~DIAGNOSTICS_TS/state",
         "config": {
            "ic": "mdi:wrench-clock",
            "val_tpl": "{{ as_datetime(value) }}",
            "dev_cla": "timestamp",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "Valve_Exercised",
         "component": "sensor",
         "stat_t": "~VALVE_TS/state",
         "config": {
            "ic": "mdi:timeline-clock",
            "val_tpl": "{{ as_datetime(value) }}",
            "dev_cla": "timestamp",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "EXERCISE_VALVE_STATE",
         "component": "binary_sensor",
         "stat_t": "~@/state",
         "config": {
            "dev_cla": "moving",
            "pl_on": "success",
            "pl_off": "fail",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "LOW_POWER_MODE",
         "component": "binary_sensor",
         "stat_t": "~@/state",
         "config": {
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "ERRORS",
         "component": "binary_sensor",
         "stat_t": "~@/state",
         "config": {
            "dev_cla": "problem",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "ERROR_TEXT",
         "component": "sensor",
         "stat_t": "~@/state",
         "config": {
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "REPORT_PERIOD",
         "component": "number",
         "cmd_t": "~@/command",
         "config": {
            "ent_cat": "config",
            "unit_of_meas": "s",
            "min": 300,
            "max": 3600,
            "opt": true,
            "ic": "mdi:timelapse"
         }
      },
      {
         "id": "retries",
         "component": "sensor",
         "stat_t": "~@/state",
         "config": {
            "name": "Retries (Send Attempts)",
            "ic": "mdi:repeat",
            "stat_cla": "measurement",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "command",
         "component": "sensor",
         "stat_t": "~@/state",
         "config": {
            "ic": "mdi:traffic-light",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "QUEUE_PROCESSING",
         "component": "binary_sensor",
         "stat_t": "~@/state",
         "config": {
            "name": "Queue Processing",
            "dev_cla": "running",
            "pl_on": "true",
            "pl_off": "false",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "QUEUE_COMMAND",
         "component": "sensor",
         "stat_t": "~@/state",
         "json_attr_t": "~@/attributes",
         "config": {
            "name": "Queue Command",
            "ic": "mdi:format-list-numbered",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "QUEUE_LEN",
         "component": "sensor",
         "stat_t": "~@/state",
         "json_attr_t": "~@/attributes",
         "config": {
            "name": "Queue Length",
            "ic": "mdi:numeric",
            "stat_cla": "measurement",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "last_seen",
         "component": "sensor",
         "stat_t": "~@/state",
         "config": {
            "val_tpl": "{{ as_datetime(value) }}",
            "dev_cla": "timestamp",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "battery",
         "component": "sensor",
         "stat_t": "~@/state",
         "config": {
            "dev_cla": "battery",
            "unit_of_meas": "%",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "IDENTIFY",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "dev_cla": "identify",
            "pl_prs": "Identify",
            "ent_cat": "config"
         }
      },
      {
         "id": "REQUEST_DIAGNOSTICS",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:stethoscope",
            "pl_prs": "Request Diagnostics",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "REQUEST_VOLTAGE",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:battery-check",
            "pl_prs": "Request Voltage",
            "ent_cat": "diagnostic"
         }
      },
      {
         "id": "EXERCISE_VALVE",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:valve",
            "pl_prs": "Exercise Valve",
            "ent_cat": "config"
         }
      },
      {
         "id": "LOW_POWER_MODE_ON",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:power-sleep",
            "pl_prs": "Low Power Mode ON",
            "ent_cat": "config"
         }
      },
      {
         "id": "LOW_POWER_MODE_OFF",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:power",
            "pl_prs": "Low Power Mode OFF",
            "ent_cat": "config"
         }
      },
      {
         "id": "VALVE_NORMAL",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:valve",
            "pl_prs": "Valve Normal",
            "ent_cat": "config"
         }
      },
      {
         "id": "VALVE_FULLY_OPEN",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:valve-open",
            "pl_prs": "Valve Fully Open",
            "ent_cat": "config"
         }
      },
      {
         "id": "VALVE_FULLY_CLOSED",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:valve-closed",
            "pl_prs": "Valve Fully Closed",
            "ent_cat": "config"
         }
      },
      {
         "id": "CANCEL_COMMAND",
         "component": "button",
         "cmd_t": "~MAINTENANCE/command",
         "config": {
            "ic": "mdi:cancel",
            "pl_prs": "Cancel Command",
            "ent_cat": "config"
         }
      }
   ]
}